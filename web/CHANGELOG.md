# josh-wentworth-portfolio

## 1.17.1

### Patch Changes

- [#67](https://github.com/Jdubz/portfolio/pull/67) [`1b1913c`](https://github.com/Jdubz/portfolio/commit/1b1913c73700785d6b6b726b98fddef45ec8f76b) Thanks [@Jdubz](https://github.com/Jdubz)! - fix: handle Firestore Timestamps in document history table

  Fixed "Invalid Date" display in document history tab by properly converting Firestore Timestamp objects to JavaScript dates. The formatDate function now handles both Firestore Timestamp objects ({\_seconds, \_nanoseconds}) and ISO date strings.

## 1.17.0

### Minor Changes

- [#66](https://github.com/Jdubz/portfolio/pull/66) [`352b62d`](https://github.com/Jdubz/portfolio/commit/352b62da45a9b18ae633119883252fd6a6a06d9f) Thanks [@Jdubz](https://github.com/Jdubz)! - Add document generation history with PDF preview and collapsible JSON viewer
  - New GenerationHistory table component showing past generations
  - GenerationDetailsModal with PDF preview and JSON viewer
  - Toggle between resume and cover letter PDFs
  - Collapsible JSON viewer with copy-to-clipboard
  - PDFs display inline in browser instead of downloading
  - Support client date for cover letter generation

## 1.16.1

### Patch Changes

- [#65](https://github.com/Jdubz/portfolio/pull/65) [`856981a`](https://github.com/Jdubz/portfolio/commit/856981a1a449b6183aef999fcc85e2eeaa318425) Thanks [@Jdubz](https://github.com/Jdubz)! - Improve AI prompts to prioritize relevance, enforce strict length limits, and add casual/creative tone to cover letters

  Updated both OpenAI and Gemini AI prompts with stronger length controls and quality-first approach:

  **Resume Generation:**
  - Strict 600-750 word limit (down from 700-800)
  - Maximum 3-4 experience entries (AI selects most relevant)
  - Maximum 4 bullet points per entry
  - Professional summary: 2-3 sentences (50-75 words)
  - Explicit instruction: relevance > recency
  - Explicit instruction: quality > quantity
  - Skip weak or irrelevant experiences entirely

  **Cover Letter Generation - NEW CASUAL/CREATIVE APPROACH:**
  - **Tone:** Casual, conversational, creative (not stiff corporate)
  - **Content Strategy:** Weaves personal stories/values with professional experience
  - **Company Research:** Cross-references company culture/mission with candidate bio
  - **Data Sources:** Prioritizes personal blurbs/bio, then company culture, then professional experience
  - **Selection:** 1-2 personal experiences + 1-2 professional accomplishments
  - **Forbidden Phrases:** Explicitly avoids clichés like "I am excited to apply...", "I look forward to hearing from you..."
  - **Creative Alternatives:** Story-based openings, genuine enthusiasm, conversational closings
  - Strict 250-350 word limit
  - Maximum 3 paragraphs (opening, body, closing)
  - Each paragraph: 2-3 sentences maximum

  **Key Philosophy Changes:**
  - AI now SELECTS the best experiences rather than including everything
  - Prioritizes quality over completeness
  - Better to have 3 strong entries than 5 mediocre ones
  - Cover letters show personality and cultural fit, not just technical skills
  - Addresses common issues: documents too long, cover letters too stiff/generic

  This significantly reduces document length while improving quality, relevance, and authentic personal connection.

- [#64](https://github.com/Jdubz/portfolio/pull/64) [`b93f870`](https://github.com/Jdubz/portfolio/commit/b93f87051a71ead5b94d80986bde1047e2a1894d) Thanks [@Jdubz](https://github.com/Jdubz)! - Add professional attribution footer to generated documents

  Added subtle footer to resume and cover letter PDFs that showcases the custom AI resume builder as a portfolio piece:
  - Footer text: "Generated by a custom AI resume builder built by the candidate"
  - Includes clickable link to joshwentworth.com/resume-builder
  - Styled professionally (8pt, light gray, bottom center)
  - Appeals to technical recruiters by demonstrating AI/full-stack capabilities
  - Turns the resume itself into a portfolio demonstration

  This enhancement helps the generated documents serve double duty as both application materials and portfolio pieces.

## 1.16.0

### Minor Changes

- [#63](https://github.com/Jdubz/portfolio/pull/63) [`0af7258`](https://github.com/Jdubz/portfolio/commit/0af7258f9924d70846076c9ffc6595c7eaf2fae5) Thanks [@Jdubz](https://github.com/Jdubz)! - Staging -> main

  Auto-generated changeset for PR #63

### Patch Changes

- [#63](https://github.com/Jdubz/portfolio/pull/63) [`0af7258`](https://github.com/Jdubz/portfolio/commit/0af7258f9924d70846076c9ffc6595c7eaf2fae5) Thanks [@Jdubz](https://github.com/Jdubz)! - Configure version bumps to only run on main branch

  Changed auto version bump workflow to follow industry standard:
  - Version bumps now only occur when merging to main
  - Staging keeps changesets for review
  - Prevents duplicate version bumps
  - Cleaner release workflow

  This is the standard changesets pattern used across the industry.

## 1.15.0

### Minor Changes

- [#63](https://github.com/Jdubz/portfolio/pull/63) [`435192d`](https://github.com/Jdubz/portfolio/commit/435192dee4f17733694f7840ca1c56849c3beefb) Thanks [@Jdubz](https://github.com/Jdubz)! - Add automatic changeset generation workflow

  New GitHub Actions workflow automatically creates changesets for PRs when important files are modified and no changeset exists yet. This eliminates manual changeset management while still allowing customization.

  Features:
  - Auto-detects which packages changed (web, functions, or both)
  - Auto-determines version bump type (patch/minor)
  - Uses PR title as changeset description
  - Commits and pushes changeset automatically
  - Comments on PR with generated changeset info
  - Skips if changeset already exists or PR has 'skip-changeset' label

  Benefits:
  - Reduces friction in PR workflow
  - No more "changeset required" failures
  - Still allows manual changeset creation/editing when desired

- [#63](https://github.com/Jdubz/portfolio/pull/63) [`4a4a782`](https://github.com/Jdubz/portfolio/commit/4a4a7820ede6636cdb9a7f1ac5341743e627eae2) Thanks [@Jdubz](https://github.com/Jdubz)! - Staging -> main

  Auto-generated changeset for PR #63

## 1.14.3

### Patch Changes

- [#63](https://github.com/Jdubz/portfolio/pull/63) [`f28c19e`](https://github.com/Jdubz/portfolio/commit/f28c19e1b4ac8b708f46ef1bcad976d0d98587d5) Thanks [@Jdubz](https://github.com/Jdubz)! - Production-ready release: generator improvements, database fixes, and documentation cleanup

  **Generator Improvements:**
  - Remove Firestore listener in favor of API-based progress updates
  - Fix download URLs and step progress returned directly from API
  - Resolve 400 Bad Request errors on staging by using correct database

  **Critical Database Fix:**
  - Fix firestore.service.ts to use environment-aware DATABASE_ID instead of hardcoded "portfolio"
  - Contact form now correctly routes to portfolio-staging in staging environment
  - Prevents staging submissions from going to production database

  **Documentation Cleanup:**
  - Delete 19 obsolete files (audit docs, archive folder, temp refactor docs)
  - Update generator/PLAN.md to mark Progressive Generation UI as complete
  - Add Frontend Terminology Migration task (defaults → personalInfo)
  - Reorganize docs/README.md with cleaner 3-type structure (Architecture, Setup, Plans)

  **Database Migration:**
  - Complete Firestore migration: generator/default → generator/personal-info
  - Applied to both staging and production databases
  - Backend fully supports new terminology with backward-compatible deprecated aliases

## 1.14.2

### Patch Changes

- [#58](https://github.com/Jdubz/portfolio/pull/58) [`748806e`](https://github.com/Jdubz/portfolio/commit/748806e72c29a665e025b33218014d60d0b0e29e) Thanks [@Jdubz](https://github.com/Jdubz)! - Fix document generator by removing Firestore listener and returning URLs from API
  - Removed broken Firestore listener that was causing 400 Bad Request errors by connecting to wrong database
  - Updated backend `handleExecuteStep` to return download URLs and step progress in API response
  - Updated frontend to extract URLs and progress directly from API instead of Firestore subscription
  - Fixed missing download buttons and checklist not updating on staging
  - API now provides complete real-time updates without needing Firestore subscriptions

## 1.14.1

### Patch Changes

- [#58](https://github.com/Jdubz/portfolio/pull/58) [`2fd0a97`](https://github.com/Jdubz/portfolio/commit/2fd0a97e5dbe62f607d8672db9eb7787abe01fad) Thanks [@Jdubz](https://github.com/Jdubz)! - Fix React hooks error and image upload signed URL expiration
  - Fixed React error #418 (hook order change) and #423 (update during render) in document builder by batching setState calls
  - Reduced image upload signed URL expiration from 1 year to 7 days to comply with GCS maximum
  - Improved Firestore listener performance by extracting values before state updates

## 1.14.0

### Minor Changes

- [#33](https://github.com/Jdubz/portfolio/pull/33) [`f20605d`](https://github.com/Jdubz/portfolio/commit/f20605d93c1fbeb9911fc753eaa2428bfa6fd74a) Thanks [@Jdubz](https://github.com/Jdubz)! - Implement Changesets for versioning and changelog management

  This change migrates from the old semantic-version GitHub Action to Changesets.

  Key improvements:
  - Automated CHANGELOG generation with GitHub integration
  - Linked workspace versioning (web + functions always in sync)
  - Human-readable change descriptions in PRs
  - "Version Packages" PR for review before releases
  - Changesets bot comments on PRs

  All workspace packages synchronized to version 1.13.3.

- [#40](https://github.com/Jdubz/portfolio/pull/40) [`e9c5597`](https://github.com/Jdubz/portfolio/commit/e9c55973a3e2052adc2e07f404d9fb3ed4bc014c) Thanks [@Jdubz](https://github.com/Jdubz)! - feat: add strict changeset enforcement and intelligent cache busting

  **Changeset Enforcement:**
  - Auto-generate changesets during commits with interactive prompts
  - Required PR check that blocks merge without changeset
  - Detects version type from commit message (feat/fix/perf)
  - Smart file pattern detection (ignores docs/tests/config)
  - Can bypass with `skip-changeset` label for non-code PRs

  **Cache Busting:**
  - Optional CACHE_BUST flag in changesets for hard refresh updates
  - Automatic cache invalidation when version changes
  - Clears service worker caches, localStorage (preserves preferences)
  - Generates unique cache versions with git hash (dev) or semantic version (prod)
  - Build-time cache version generation with prebuild hook

  **Files Added:**
  - `scripts/auto-changeset.js` - Interactive changeset generator
  - `scripts/cache-version.js` - Cache version generator
  - `web/src/utils/cache-version.ts` - Client-side cache utilities
  - `.github/workflows/changeset-check.yml` - Required PR check
  - `docs/development/changeset-enforcement.md` - Complete documentation
  - `docs/development/cache-busting.md` - Cache busting guide

  **Updated:**
  - `.husky/pre-commit` - Auto-changeset hook
  - `web/gatsby-browser.js` - Cache version initialization
  - `web/package.json` - Added prebuild script for cache versioning

### Patch Changes

- [#44](https://github.com/Jdubz/portfolio/pull/44) [`47769c7`](https://github.com/Jdubz/portfolio/commit/47769c7beab3af9ee4941df71df9598da13df91e) Thanks [@Jdubz](https://github.com/Jdubz)! - Consolidate and streamline documentation (64% reduction)

  Removed outdated documentation directories (audit, archive, deployment, setup, features) that were superseded by ARCHITECTURE.md and CODEBASE_AUDIT_2025-10-10.md. Updated ai-resume-generator-plan.md with Phase 1-3 architecture compatibility notes. Documentation reduced from 44 files (~16,000 lines) to 10 files (~5,700 lines), focusing on current architecture, recent audits, and future plans.

## 1.13.3

### Patch Changes

- Synced package version with monorepo root
